{
  "owner": "metyatech",
  "repos": "all",
  "workdirRoot": "D:\\ghws",
  "pollIntervalSeconds": 60,
  "concurrency": 8,
  "logMaintenance": {
    "enabled": true,
    "maxAgeDays": 30,
    "keepLatest": 2000,
    "maxTotalMB": 1024,
    "taskRunKeepLatest": 200,
    "writeLatestPointers": true
  },
  "reportMaintenance": {
    "enabled": true,
    "maxAgeDays": 90,
    "keepLatest": 500,
    "maxTotalMB": 256
  },
  "amazonQ": {
    "enabled": false,
    "command": "wsl.exe",
    "args": [
      "-d",
      "Ubuntu",
      "--",
      "bash",
      "-lc",
      "q chat --no-interactive --trust-all-tools --wrap never \"$1\"",
      "--"
    ],
    "promptMode": "arg"
  },
  "idle": {
    "enabled": true,
    "maxRunsPerCycle": 2,
    "cooldownMinutes": 240,
    "tasks": [
      "Bring the repo into compliance with AGENTS.md and project docs/standards. Identify the highest-impact gap, fix it, and update docs/tests as needed. If nothing meaningful is needed, exit."
    ],
    "promptTemplate": "You are running an autonomous idle task.\nTarget repo: {{repo}}\nTask: {{task}}\n\nRequirements:\n- Follow AGENTS.md rules.\n- Do not push directly to the main branch. Use a branch and open a PR if there are changes.\n- Do NOT merge or close the PR automatically. Leave it open for human review.\n- Post a short summary comment on the PR.\n- If there are no safe changes, exit cleanly without opening a PR.\n- After opening a PR, check out the main branch and pull to keep the local clone clean.\n- If the repo has uncommitted changes, exit without making changes.\n- Repository creation, splitting, renaming, archiving, or deletion is allowed when needed.\n- At the end, output a summary block delimited by:\nAGENT_RUNNER_SUMMARY_START\n<summary>\nAGENT_RUNNER_SUMMARY_END\nInclude: changes made, tests run (or 'Not run'), commit hashes, and PR URL (or 'none').",
    "usageGate": {
      "enabled": true,
      "command": "codex",
      "args": [],
      "timeoutSeconds": 20,
      "minRemainingPercent": {
        "fiveHour": 50
      },
      "weeklySchedule": {
        "startMinutes": 1440,
        "minRemainingPercentAtStart": 100,
        "minRemainingPercentAtEnd": 0
      }
    },
    "copilotUsageGate": {
      "enabled": true,
      "timeoutSeconds": 20,
      "apiBaseUrl": "https://api.github.com",
      "apiVersion": "2025-05-01",
      "monthlySchedule": {
        "startMinutes": 10080,
        "minRemainingPercentAtStart": 100,
        "minRemainingPercentAtEnd": 0
      }
    },
    "geminiUsageGate": {
      "enabled": true,
      "strategy": "spare-only",
      "startMinutes": 240,
      "minRemainingPercentAtStart": 100,
      "minRemainingPercentAtEnd": 0
    },
    "amazonQUsageGate": {
      "enabled": true,
      "monthlyLimit": 50,
      "monthlySchedule": {
        "startMinutes": 10080,
        "minRemainingPercentAtStart": 100,
        "minRemainingPercentAtEnd": 0
      }
    },
    "repoScope": "local"
  },
  "labels": {
    "queued": "agent:queued",
    "running": "agent:running",
    "done": "agent:done",
    "failed": "agent:failed",
    "needsUserReply": "agent:needs-user-reply"
  },
  "codex": {
    "command": "codex",
    "args": [
      "exec",
      "--dangerously-bypass-approvals-and-sandbox",
      "--model",
      "gpt-5.2"
    ],
    "promptTemplate": "You are running an autonomous task. Follow AGENTS.md rules. Use repo(s): {{repos}}. Task:\n{{task}}\n\nRequirements:\n- GitHub operations (issues, PRs, commits, pushes) are allowed and are NOT considered external sending.\n- Do not send or post anything outside GitHub (email, LMS, Slack, web forms, etc.) unless the user explicitly approves in the issue. If external communication is required, prepare a draft message + attachments list + checklist and ask the user for explicit approval before any send/post.\n- Commit and push any code changes.\n- Reference the issue number in commit messages (e.g., 'Refs #<issue-number>').\n- At the end, output a summary block delimited by:\nAGENT_RUNNER_SUMMARY_START\n<summary>\nAGENT_RUNNER_SUMMARY_END\nInclude: changes made, tests run (or 'Not run'), and commit hashes."
  },
  "webhooks": {
    "enabled": true,
    "host": "127.0.0.1",
    "port": 4312,
    "path": "/webhooks/github",
    "secretEnv": "AGENT_GITHUB_WEBHOOK_SECRET",
    "catchup": {
      "enabled": true,
      "intervalMinutes": 60,
      "maxIssuesPerRun": 50
    }
  },
  "copilot": {
    "command": "copilot",
    "args": [
      "--allow-all",
      "--model",
      "gemini-3-pro-preview",
      "-p"
    ]
  },
  "gemini": {
    "command": "gemini",
    "args": [
      "--approval-mode",
      "yolo",
      "--allowed-tools",
      "glob,read_file,read_many_files,list_directory,search_file_content,replace,write_file,run_shell_command,save_memory",
      "-p"
    ]
  }
}

